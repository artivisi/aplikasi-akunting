<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="id">
<head>
    <title>Template Search Results Fragment</title>
</head>
<body>
    <!-- Template Search Results Fragment - content only, container in list.html -->
    <th:block th:fragment="results">
        <div th:if="${templates.isEmpty()}" class="px-4 py-3 text-sm text-gray-500 text-center">
            Tidak ada template ditemukan
        </div>

        <div th:if="${!templates.isEmpty()}" class="py-2">
            <!-- Show "Recent" header if showing recent templates -->
            <p th:if="${showRecent}" class="px-4 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wider">
                Template Terbaru
            </p>

            <!-- Template results -->
            <a th:each="template : ${templates}"
               th:href="@{/transactions/new(templateId=${template.id})}"
               th:data-testid="'template-search-result-' + ${template.id}"
               class="flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors">
                <!-- Category color indicator -->
                <span th:classappend="${template.category.name() == 'INCOME'} ? 'bg-green-500' :
                                      (${template.category.name() == 'EXPENSE'} ? 'bg-red-500' :
                                      (${template.category.name() == 'TRANSFER'} ? 'bg-purple-500' :
                                      (${template.category.name() == 'PAYMENT'} ? 'bg-blue-500' : 'bg-cyan-500')))"
                      class="w-2 h-2 rounded-full mr-3 flex-shrink-0"></span>

                <!-- Template name -->
                <span th:text="${template.templateName}" class="flex-1">Template Name</span>

                <!-- Category badge -->
                <span th:classappend="${template.category.name() == 'INCOME'} ? 'bg-green-50 text-green-700' :
                                      (${template.category.name() == 'EXPENSE'} ? 'bg-red-50 text-red-700' :
                                      (${template.category.name() == 'TRANSFER'} ? 'bg-purple-50 text-purple-700' :
                                      (${template.category.name() == 'PAYMENT'} ? 'bg-blue-50 text-blue-700' : 'bg-cyan-50 text-cyan-700')))"
                      th:text="${template.category.name() == 'INCOME'} ? 'Pendapatan' :
                               (${template.category.name() == 'EXPENSE'} ? 'Pengeluaran' :
                               (${template.category.name() == 'PAYMENT'} ? 'Pembayaran' :
                               (${template.category.name() == 'RECEIPT'} ? 'Penerimaan' : 'Transfer')))"
                      class="px-2 py-1 text-xs font-medium rounded-full ml-3">
                    Category
                </span>
            </a>

            <!-- View all templates link -->
            <div class="border-t border-gray-100 mt-2 pt-2">
                <a th:href="@{/templates}"
                   class="flex items-center justify-center px-4 py-2 text-sm text-primary-600 hover:bg-primary-50 rounded-lg transition-colors">
                    <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 10h16M4 14h16M4 18h16"/>
                    </svg>
                    Lihat Semua Template
                </a>
            </div>
        </div>
    </th:block>
</body>
</html>
