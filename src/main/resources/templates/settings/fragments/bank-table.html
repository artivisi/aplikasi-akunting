<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="id">
<head><title>Bank Table Fragment</title></head>
<body>
    <div th:fragment="table" id="bank-table" class="overflow-x-auto">
        <div th:if="${#lists.isEmpty(bankAccounts)}" class="text-center py-8 text-gray-500">
            Belum ada rekening bank. Klik "Tambah Rekening" untuk menambahkan.
        </div>

        <table th:unless="${#lists.isEmpty(bankAccounts)}" class="min-w-full divide-y divide-gray-200">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Bank</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">No. Rekening</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Atas Nama</th>
                    <th class="px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase">Status</th>
                    <th class="px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase">Aksi</th>
                </tr>
            </thead>
            <tbody class="divide-y divide-gray-200">
                <tr th:each="bank : ${bankAccounts}" th:class="${bank.active} ? '' : 'bg-gray-50'">
                    <td class="px-4 py-3">
                        <div class="font-medium text-gray-900" th:text="${bank.bankName}">BCA</div>
                        <div th:if="${bank.bankBranch}" class="text-sm text-gray-500" th:text="${bank.bankBranch}">Cabang</div>
                    </td>
                    <td class="px-4 py-3 font-mono text-sm" th:text="${bank.accountNumber}">1234567890</td>
                    <td class="px-4 py-3" th:text="${bank.accountName}">PT ABC</td>
                    <td class="px-4 py-3">
                        <span th:if="${bank.isDefault}"
                              class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800">
                            Utama
                        </span>
                        <span th:unless="${bank.active}"
                              class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600">
                            Nonaktif
                        </span>
                    </td>
                    <td class="px-4 py-3 text-right space-x-2">
                        <a th:href="@{/settings/bank-accounts/{id}/edit(id=${bank.id})}"
                           class="text-primary-600 hover:text-primary-900 text-sm">Edit</a>
                        <form th:unless="${bank.isDefault}" th:action="@{/settings/bank-accounts/{id}/set-default(id=${bank.id})}"
                              method="post" class="inline">
                            <button type="submit" class="text-green-600 hover:text-green-900 text-sm">Jadikan Utama</button>
                        </form>
                        <form th:if="${bank.active}" th:action="@{/settings/bank-accounts/{id}/deactivate(id=${bank.id})}"
                              method="post" class="inline">
                            <button type="submit" class="text-yellow-600 hover:text-yellow-900 text-sm">Nonaktifkan</button>
                        </form>
                        <form th:unless="${bank.active}" th:action="@{/settings/bank-accounts/{id}/activate(id=${bank.id})}"
                              method="post" class="inline">
                            <button type="submit" class="text-green-600 hover:text-green-900 text-sm">Aktifkan</button>
                        </form>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</body>
</html>
