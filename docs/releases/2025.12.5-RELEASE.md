# Release 2025.12.5

Security hardening release focused on DevSecOps integration, CSP implementation, and code quality improvements.

## Highlights

- **Complete SpotBugs Audit**: Reduced from 164 to 0 issues, fixing 33 real vulnerabilities
- **CSP Implementation**: Content Security Policy with nonces for XSS prevention
- **Template Autocomplete**: Replaced dropdown with searchable autocomplete for better UX
- **DevSecOps Quick Wins**: CodeQL, SonarCloud, OWASP Dependency-Check integration

## What's New

### Security Enhancements

**Content Security Policy (CSP)**
- CSP headers with nonce-based script/style allowlisting
- Alpine.js made fully CSP-compatible
- DAST vulnerabilities from ZAP scan addressed

**SpotBugs Security Audit**
- Fixed 33 real security vulnerabilities
- Documented 140 Spring DI false positives in spotbugs-exclude.xml
- Explicit UTF-8 charset in encryption services
- Null checks for potential NPE issues

### User Experience

**Template Autocomplete**
- Replaced template dropdown with searchable autocomplete
- Better performance with large number of templates
- Keyboard navigation support

### DevSecOps

**CI/CD Security Pipeline**
- Replaced gitleaks-action with CLI to avoid license requirement
- Removed invalid entropy config causing false positives
- Fixed DAST report generation (deprecated htmlreport â†’ reports.generate)

## Improvements

### Code Quality

- Replaced static fields with instance fields in converter classes
- Platform-independent newline in format strings
- Fixed final 2 SpotBugs style issues
- Added .gitignore for log files

### Documentation

- Updated CLAUDE.md with SpotBugs audit completion status
- Removed unimplemented nuclei scanner from plan
- Complete security exclusions documentation with justifications

## Bug Fixes

### CI/CD Fixes
- Removed spring-datasource-password rule causing false positives in gitleaks
- Fixed invalid entropy configuration in gitleaks
- Fixed deprecated ZAP report configuration

### Security Fixes
- Explicit UTF-8 charset specification in encryption services
- Null checks added for potential NPE issues

## Breaking Changes

None - all changes are backward compatible.

## Migration Guide

Standard upgrade path from 2025.12.4-RELEASE:

1. Pull latest code
2. Run `./mvnw clean package`
3. Deploy using standard procedure in `docs/03-operations-guide.md`

No database migrations or data changes required.

## Known Issues

None

## Technical Details

### CSP Implementation

- Nonce-based script/style allowlisting via Spring Security
- Alpine.js x-data and x-init made CSP-compatible (no inline handlers)
- All inline scripts moved to nonce-protected script blocks

### SpotBugs Audit Summary

| Category | Count | Resolution |
|----------|-------|------------|
| Real vulnerabilities fixed | 33 | Code changes |
| Spring DI false positives | 140 | Documented exclusions |
| Total issues cleared | 164 | 0 remaining |

## Dependencies

- Java 25
- Spring Boot 4.0.0
- PostgreSQL 17
- Playwright 1.50.0

## Contributors

Thanks to everyone who contributed to this release!

- Claude Opus 4.5 (AI pair programming)
- Endy Muhardin (lead developer)
